{"version":3,"sources":["webpack:///src/views/admin/menu/index.vue","webpack:///./src/api/admin/menu/index.js","webpack:///./src/views/admin/menu/index.vue?72ba","webpack:///./src/views/admin/menu/index.vue"],"names":["menu","data","is_auth_check","value","label","is_display","props","id","children","showTable","fatherMenu","treeData","tableData","dialogStatus","textMap","update","create","loading","dialogFormVisible","form","menu_name","undefined","menu_english_name","menu_url","menu_parent_id","currentId","rules","required","message","trigger","created","this","getList","methods","_this","axios","url","method","then","console","log","cancel","$refs","resetFields","_this2","validate","valid","SysMenu","response","$notify","title","type","duration","_this3","getNodeData","_this4","getMenuMessage","table","length","push","handlerEdit","row","_this5","assign_default","$nextTick","clearValidate","handleDelete","_this6","$confirm","confirmButtonText","cancelButtonText","restform","_form","defineProperty_default","handlerAdd","handleClose","admin_menu","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","icon","on","click","_v","staticStyle","margin-top","span","ref","node-key","highlight-current","default-expand-all","node-click","directives","name","rawName","expression","shadow","width","fit","height","prop","scopedSlots","_u","key","fn","scope","menu_icon","icon-class","_e","fixed","size","nativeOn","$event","preventDefault","visible","before-close","update:visible","label-position","model","callback","$$v","$set","placeholder","_l","item","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.d2b295a18073972a3dc2.js","sourcesContent":["<template>\r\n  <div class=\"menu\">\r\n    <div class=\"file-edit\">\r\n      <el-button-group>\r\n        <el-button type=\"primary\" icon=\"plus\" @click=\"handlerAdd\">添加菜单</el-button>\r\n      </el-button-group>\r\n    </div>\r\n    <el-row>\r\n      <el-col class=\"left\" :span=\"4\" style='margin-top:15px;'>\r\n        <el-tree\r\n          class=\"filter-tree\"\r\n          :data=\"treeData\"\r\n          :props=\"props\"\r\n          node-key=\"id\"\r\n          highlight-current\r\n          ref=\"menuTree\"\r\n          @node-click=\"getNodeData\"\r\n          default-expand-all>\r\n        </el-tree>\r\n      </el-col>\r\n      <el-col class=\"right\" :span=\"20\" style='margin-top:15px;' v-show=\"showTable\">\r\n        <el-card shadow=\"always\">\r\n          <el-table\r\n          fit\r\n          :data=\"tableData\"\r\n          style=\"width: 100%\"\r\n          height=\"300\"\r\n          >\r\n            <el-table-column\r\n            label=\"菜单名称\"\r\n            prop=\"menu_name\"></el-table-column>\r\n            <el-table-column\r\n            label=\"菜单英文名称\"\r\n            prop=\"menu_english_name\"></el-table-column>\r\n            <el-table-column\r\n            label=\"菜单标准路径\"\r\n            prop=\"menu_url\"></el-table-column>\r\n            <el-table-column\r\n            label=\"v\"\r\n            prop=\"is_auth_check\"></el-table-column>\r\n            <el-table-column\r\n            label=\"创建时间\"\r\n            prop=\"create_time\"></el-table-column>\r\n            <el-table-column\r\n            label=\"创建人员\"\r\n            prop=\"create_oper\"></el-table-column>\r\n            <el-table-column\r\n            label=\"菜单图标\"\r\n            prop=\"menu_icon\">\r\n            <template slot-scope=\"scope\">\r\n              <span v-if=\"scope.row.menu_icon !== null\">\r\n                <svg-icon :icon-class=\"scope.row.menu_icon.icon\" />\r\n              </span>\r\n              <span v-if=\"scope.row.menu_icon === null\">未配置菜单图标</span>\r\n            </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n            label=\"更新人员\"\r\n            prop=\"update_oper\"></el-table-column>\r\n            <el-table-column\r\n            label=\"更新时间\"\r\n            prop=\"update_time\"></el-table-column>\r\n            <el-table-column\r\n            label=\"是否显示\"\r\n            prop=\"is_display\">\r\n              <template slot-scope=\"scope\">\r\n                <span v-if=\"scope.row.is_display === 1\">是</span>\r\n                <span v-if=\"scope.row.is_display === 0\">否</span>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n            fixed=\"right\"\r\n            label=\"操作\"\r\n            width=\"120\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                @click.native.prevent=\"handlerEdit(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\">\r\n                编辑\r\n              </el-button>\r\n              <el-button\r\n                @click.native.prevent=\"handleDelete(scope.row)\"\r\n                type=\"text\"\r\n                size=\"small\">\r\n                删除\r\n              </el-button>\r\n            </template>\r\n          </el-table-column>\r\n          </el-table>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n    <el-dialog :title=\"textMap[dialogStatus]\" :visible.sync=\"dialogFormVisible\" \r\n    :before-close=\"handleClose\" >\r\n      <el-form label-position=left :model=\"form\" ref=\"form\" :rules=\"rules\">\r\n        <el-form-item label=\"菜单名称:\" prop=\"menu_name\">\r\n          <el-input v-model=\"form.menu_name\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"菜单英文名称:\" prop=\"menu_english_name\">\r\n          <el-input v-model=\"form.menu_english_name\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"菜单标准路径:\" prop=\"menu_url\">\r\n          <el-select v-model=\"form.menu_url\" placeholder=\"请选择菜单路径\">\r\n            <el-option label=\"/123\" value=\"/123\"></el-option>\r\n            <el-option label=\"/456\" value=\"/456\"></el-option>\r\n            <el-option label=\"/789\" value=\"/789\"></el-option>\r\n            <el-option label=\"/1345\" value=\"/1345\"></el-option>\r\n            <el-option label=\"/4878\" value=\"/4878\"></el-option>\r\n            <el-option label=\"/487\" value=\"/487\"></el-option>\r\n            <el-option label=\"/7879\" value=\"/7879\"></el-option>\r\n            <el-option label=\"/87445\" value=\"/87445\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"是否权限控制:\">\r\n          <el-select v-model=\"form.is_auth_check\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in is_auth_check\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"是否显示:\">\r\n          <el-select v-model=\"form.is_display\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"item in is_display\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"上级菜单:\" v-show=\"fatherMenu\">\r\n          <el-input v-model=\"form.menu_parent_id\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cancel('form')\">取 消</el-button>\r\n        <el-button  v-if=\"dialogStatus=='create'\" type=\"primary\" @click=\"create('form')\">确 定</el-button>\r\n        <el-button  v-else type=\"primary\" @click=\"update('form')\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addMenu, delMenu, fetchMenu, updateMenu, getMenuMessage } from '@/api/admin/menu/index'\r\nexport default {\r\n  data () {\r\n    return {\r\n      is_auth_check: [\r\n        {\r\n          value: 1,\r\n          label: '控制'\r\n        },\r\n        {\r\n          value: 0,\r\n          label: '不控制'\r\n        }\r\n      ],\r\n      is_display: [\r\n        {\r\n          value: 1,\r\n          label: '是'\r\n        },\r\n        {\r\n          value: 0,\r\n          label: '否'\r\n        }\r\n      ],\r\n      props: {\r\n        label: 'name',\r\n        id: 'id',\r\n        children: 'children'\r\n      },\r\n      showTable: false,\r\n      fatherMenu: false,\r\n      treeData: [],\r\n      tableData: [],\r\n      dialogStatus: 'create',\r\n      textMap: {\r\n        update: '编辑',\r\n        create: '创建'\r\n      },\r\n      loading: false,\r\n      dialogFormVisible: false,\r\n      form: {\r\n        menu_name: undefined,\r\n        menu_english_name: undefined,\r\n        menu_url: undefined,\r\n        is_auth_check: undefined,\r\n        is_display: undefined,\r\n        menu_parent_id: undefined\r\n      },\r\n      currentId: -1,\r\n      rules: {\r\n        menu_name: [\r\n          { required: true, message: '请输入菜单名称，请不要重复', trigger: 'blur' }\r\n        ],\r\n        menu_url: [\r\n          { required: true, message: '请输入菜单详细路径', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getList();\r\n  },\r\n  methods: {\r\n    getList() {\r\n      fetchMenu().then(data => {\r\n        console.log(data.data.data)\r\n        this.treeData = data.data.data\r\n      })\r\n    },\r\n    /**取消 */\r\n    cancel(form) {\r\n        this.dialogFormVisible = false;\r\n        this.$refs[form].resetFields();\r\n    },\r\n    /**新建 */\r\n    create(form) {\r\n      this.$refs[form].validate(valid => {\r\n        if(valid) {\r\n          this.loading = true\r\n          if(this.currentId === -1) {\r\n            let i = 0\r\n            this.form.menu_parent_id = i\r\n          }else {\r\n            this.form.menu_parent_id = this.currentId\r\n          }\r\n          const SysMenu = this.form\r\n          console.log(SysMenu)\r\n          addMenu(SysMenu).then( response => {\r\n            this.loading = false\r\n            this.dialogFormVisible = false;\r\n            this.getList()\r\n            this.$notify({\r\n              title: '成功',\r\n              message: '创建成功',\r\n              type: 'success',\r\n              duration: 2000\r\n            })\r\n            this.loading = false\r\n          })\r\n        } else {\r\n          this.loading = false\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    /**更新 */\r\n    update(form) {\r\n      this.$refs[form].validate(valid => {\r\n        if(valid) {\r\n          this.loading = true\r\n          updateMenu(this.form).then(response => {\r\n            this.getNodeData(this.currentId)\r\n          })\r\n        } else {\r\n          this.loading = false\r\n          return false\r\n        }\r\n      })\r\n    },\r\n      /**获取菜单详细信息 */\r\n      getNodeData(data) {\r\n        console.log(data.id)\r\n        getMenuMessage(data.id).then(response => {\r\n          this.showTable = true\r\n          console.log(response)\r\n          const table = []\r\n          if(response.data.data.length === 1 || response.data.data.length === undefined) {\r\n            table.push(response.data.data)\r\n            this.tableData = table\r\n          } else {\r\n            this.tableData = response.data.data\r\n          }\r\n          console.log(this.tableData)\r\n        });\r\n        this.currentId = data.id;\r\n      },\r\n      /**编辑 */\r\n      handlerEdit(row) {\r\n        this.dialogStatus = 'update'\r\n        this.dialogFormVisible = true\r\n        this.form = Object.assign({}, row)\r\n        this.$nextTick(() => {\r\n          this.$refs['form'].clearValidate()\r\n        })\r\n      },\r\n      /**删除 */\r\n      handleDelete(row) {\r\n        this.$confirm('此操作将永久删除, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.loading = true\r\n          delMenu(row.id).then(() => {\r\n            this.loading = false\r\n            this.getList()\r\n            this.$notify({\r\n              title: '成功',\r\n              message: '删除成功',\r\n              type: 'success',\r\n              duration: 2000\r\n            })\r\n          })\r\n        })\r\n      },\r\n      /**初始化菜单 */\r\n      restform() {\r\n        this.form = {\r\n          menu_parent_id: this.currentId,\r\n          menu_name: undefined,\r\n          menu_english_name: undefined,\r\n          menu_parent_id: undefined,\r\n          menu_url: undefined,\r\n          is_auth_check: 0,\r\n          is_display: 0,\r\n        }\r\n      },\r\n      /**添加菜单 */\r\n      handlerAdd() {\r\n        this.restform()\r\n        this.dialogStatus = 'create'\r\n        this.dialogFormVisible = true\r\n      },\r\n      /**弹窗关闭时 */\r\n      handleClose() {\r\n        this.loading = false\r\n        this.dialogFormVisible = false\r\n      }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/admin/menu/index.vue","import axios from '@/utils/fetch'\r\n\r\n/**\r\n * 查询菜单\r\n * @param {*} query\r\n */\r\nexport function fetchMenu () {\r\n  return axios({\r\n    url: '/selectAllMenu',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n/**\r\n * 添加菜单\r\n * @param {*} data\r\n */\r\nexport function addMenu (data) {\r\n  console.log(data)\r\n  return axios({\r\n    url: '/insertMenu',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/**\r\n * 删除菜单\r\n * @param {*} data\r\n */\r\nexport function delMenu (data) {\r\n  return axios({\r\n    url: '/deleteMenu2/' + data,\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n/**\r\n * 更新菜单\r\n * @param {*} data\r\n */\r\nexport function updateMenu (data) {\r\n  return axios({\r\n    url: '/updateMenu',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n\r\n/**\r\n * 得到菜单详细信息\r\n * @param {*} data\r\n */\r\nexport function getMenuMessage (data) {\r\n  return axios({\r\n    url: '/selectMenuDetail/' + data,\r\n    method: 'post'\r\n  })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/admin/menu/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu\"},[_c('div',{staticClass:\"file-edit\"},[_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"plus\"},on:{\"click\":_vm.handlerAdd}},[_vm._v(\"添加菜单\")])],1)],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{staticClass:\"left\",staticStyle:{\"margin-top\":\"15px\"},attrs:{\"span\":4}},[_c('el-tree',{ref:\"menuTree\",staticClass:\"filter-tree\",attrs:{\"data\":_vm.treeData,\"props\":_vm.props,\"node-key\":\"id\",\"highlight-current\":\"\",\"default-expand-all\":\"\"},on:{\"node-click\":_vm.getNodeData}})],1),_vm._v(\" \"),_c('el-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTable),expression:\"showTable\"}],staticClass:\"right\",staticStyle:{\"margin-top\":\"15px\"},attrs:{\"span\":20}},[_c('el-card',{attrs:{\"shadow\":\"always\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"fit\":\"\",\"data\":_vm.tableData,\"height\":\"300\"}},[_c('el-table-column',{attrs:{\"label\":\"菜单名称\",\"prop\":\"menu_name\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"菜单英文名称\",\"prop\":\"menu_english_name\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"菜单标准路径\",\"prop\":\"menu_url\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"v\",\"prop\":\"is_auth_check\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"创建时间\",\"prop\":\"create_time\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"创建人员\",\"prop\":\"create_oper\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"菜单图标\",\"prop\":\"menu_icon\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.menu_icon !== null)?_c('span',[_c('svg-icon',{attrs:{\"icon-class\":scope.row.menu_icon.icon}})],1):_vm._e(),_vm._v(\" \"),(scope.row.menu_icon === null)?_c('span',[_vm._v(\"未配置菜单图标\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"更新人员\",\"prop\":\"update_oper\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"更新时间\",\"prop\":\"update_time\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"是否显示\",\"prop\":\"is_display\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.is_display === 1)?_c('span',[_vm._v(\"是\")]):_vm._e(),_vm._v(\" \"),(scope.row.is_display === 0)?_c('span',[_vm._v(\"否\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.handlerEdit(scope.row)}}},[_vm._v(\"\\n              编辑\\n            \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.handleDelete(scope.row)}}},[_vm._v(\"\\n              删除\\n            \")])]}}])})],1)],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.textMap[_vm.dialogStatus],\"visible\":_vm.dialogFormVisible,\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"label-position\":\"left\",\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"菜单名称:\",\"prop\":\"menu_name\"}},[_c('el-input',{model:{value:(_vm.form.menu_name),callback:function ($$v) {_vm.$set(_vm.form, \"menu_name\", $$v)},expression:\"form.menu_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"菜单英文名称:\",\"prop\":\"menu_english_name\"}},[_c('el-input',{model:{value:(_vm.form.menu_english_name),callback:function ($$v) {_vm.$set(_vm.form, \"menu_english_name\", $$v)},expression:\"form.menu_english_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"菜单标准路径:\",\"prop\":\"menu_url\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择菜单路径\"},model:{value:(_vm.form.menu_url),callback:function ($$v) {_vm.$set(_vm.form, \"menu_url\", $$v)},expression:\"form.menu_url\"}},[_c('el-option',{attrs:{\"label\":\"/123\",\"value\":\"/123\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"/456\",\"value\":\"/456\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"/789\",\"value\":\"/789\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"/1345\",\"value\":\"/1345\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"/4878\",\"value\":\"/4878\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"/487\",\"value\":\"/487\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"/7879\",\"value\":\"/7879\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"/87445\",\"value\":\"/87445\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否权限控制:\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.is_auth_check),callback:function ($$v) {_vm.$set(_vm.form, \"is_auth_check\", $$v)},expression:\"form.is_auth_check\"}},_vm._l((_vm.is_auth_check),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否显示:\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.is_display),callback:function ($$v) {_vm.$set(_vm.form, \"is_display\", $$v)},expression:\"form.is_display\"}},_vm._l((_vm.is_display),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fatherMenu),expression:\"fatherMenu\"}],attrs:{\"label\":\"上级菜单:\"}},[_c('el-input',{model:{value:(_vm.form.menu_parent_id),callback:function ($$v) {_vm.$set(_vm.form, \"menu_parent_id\", $$v)},expression:\"form.menu_parent_id\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.cancel('form')}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),(_vm.dialogStatus=='create')?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.create('form')}}},[_vm._v(\"确 定\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.update('form')}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-531f6241\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/admin/menu/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-531f6241\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-531f6241\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-531f6241\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/admin/menu/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}